<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Format site x locations object — fb_format_site_locations • funbiogeo</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Format site x locations object — fb_format_site_locations" />
<meta property="og:description" content="Convert a flat data.frame with site coordinates into a proper sf object
that can then be use by other functions. This function assumes that
the coordinates are given in WGS84 (longitude vs. latitude). The function
automatically removes repeated coordinates from the input dataset." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">funbiogeo</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/funbiogeo.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/frbcesab/funbiogeo/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Format site x locations object</h1>
    <small class="dont-index">Source: <a href='https://github.com/frbcesab/funbiogeo/blob/master/R/fb_format_sites_locations.R'><code>R/fb_format_sites_locations.R</code></a></small>
    <div class="hidden name"><code>fb_format_site_locations.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Convert a flat data.frame with site coordinates into a proper <code>sf</code> object
that can then be use by other functions. This function assumes that
the coordinates are given in WGS84 (longitude vs. latitude). The function
automatically removes repeated coordinates from the input dataset.</p>
    </div>

    <pre class="usage"><span class='fu'>fb_format_site_locations</span><span class='op'>(</span>
  <span class='va'>input_data</span>,
  <span class='va'>site</span>,
  <span class='va'>longitude</span>,
  <span class='va'>latitude</span>,
  crs <span class='op'>=</span> <span class='fu'>sf</span><span class='fu'>::</span><span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_crs.html'>st_crs</a></span><span class='op'>(</span><span class='fl'>4326</span><span class='op'>)</span>,
  na_rm <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>input_data</th>
      <td><p>a <code>data.frame</code> in a long format (see example).</p></td>
    </tr>
    <tr>
      <th>site</th>
      <td><p>a <code>character</code> of length 1. Name of the column with site labels.</p></td>
    </tr>
    <tr>
      <th>longitude</th>
      <td><p>a <code>character</code> of length 1. Name of the column with
longitude. The function assumes coordinates are WGS84 (EPSG:4326).</p></td>
    </tr>
    <tr>
      <th>latitude</th>
      <td><p>a <code>character</code> of length 1. Name of the column with latitude.
The function assumes coordinates are WGS84 (EPSG:4326).</p></td>
    </tr>
    <tr>
      <th>crs</th>
      <td><p>a <code>character</code> of length 1 or an object of class <code>crs</code>.
Coordinate Reference System (CRS) of the specified coordinates.
The CRS should be a <a href='https://geocompr.robinlovelace.net/spatial-class.html?q=CRS#crs-in-r'>valid CRS in R</a>.
It can either be a character like <code>"+proj=longlat +datum=WGS84 +no_defs"</code>
or as specified using <code><a href='https://r-spatial.github.io/sf/reference/st_crs.html'>sf::st_crs()</a></code> like <code><a href='https://r-spatial.github.io/sf/reference/st_crs.html'>sf::st_crs(4326)</a></code>
the default value.</p></td>
    </tr>
    <tr>
      <th>na_rm</th>
      <td><p>a logical value. If <code>TRUE</code> remove sites with incomplete
coordinates. Default is <code>FALSE</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An <code>sf</code> object with a <code>site</code> column specifying site coordinates.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='st'><a href='https://github.com/frbcesab/funbiogeo'>"funbiogeo"</a></span><span class='op'>)</span>

<span class='va'>filename</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"extdata"</span>, <span class='st'>"raw_trees_data.csv"</span>, 
                        package <span class='op'>=</span> <span class='st'>"funbiogeo"</span><span class='op'>)</span>
<span class='va'>all_data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv2</a></span><span class='op'>(</span><span class='va'>filename</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>all_data</span><span class='op'>)</span>
</div><div class='output co'>#&gt;                 site            species longitude latitude count     sla
#&gt; 1  PA_76856094010538 acer_pensylvanicum -78.60508 39.91707     7 25.2665
#&gt; 2  PA_68287127010538 acer_pensylvanicum -77.54087 40.35293     2 25.2665
#&gt; 3  PA_76855646010538 acer_pensylvanicum -78.30221 40.18796     4 25.2665
#&gt; 4  PA_58581106010538 acer_pensylvanicum -79.28570 40.04243     2 25.2665
#&gt; 5 PA_145019955010661 acer_pensylvanicum -77.05348 40.37183     3 25.2665
#&gt; 6  PA_10716167010661 acer_pensylvanicum -78.30529 41.02784     1 25.2665
#&gt;     n_mass wood_dens
#&gt; 1 2.221025      0.44
#&gt; 2 2.221025      0.44
#&gt; 3 2.221025      0.44
#&gt; 4 2.221025      0.44
#&gt; 5 2.221025      0.44
#&gt; 6 2.221025      0.44</div><div class='input'>
<span class='va'>site_locations</span> <span class='op'>&lt;-</span> <span class='fu'>fb_format_site_locations</span><span class='op'>(</span><span class='va'>all_data</span>, <span class='st'>"site"</span>, <span class='st'>"longitude"</span>, 
                                             <span class='st'>"latitude"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>site_locations</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Simple feature collection with 6 features and 1 field
#&gt; Geometry type: POINT
#&gt; Dimension:     XY
#&gt; Bounding box:  xmin: 39.91707 ymin: -79.2857 xmax: 41.02784 ymax: -77.05348
#&gt; CRS:           EPSG:4326
#&gt;                 site                   geometry
#&gt; 1  PA_76856094010538 POINT (39.91707 -78.60508)
#&gt; 2  PA_68287127010538 POINT (40.35293 -77.54087)
#&gt; 3  PA_76855646010538 POINT (40.18796 -78.30221)
#&gt; 4  PA_58581106010538  POINT (40.04243 -79.2857)
#&gt; 5 PA_145019955010661 POINT (40.37183 -77.05348)
#&gt; 6  PA_10716167010661 POINT (41.02784 -78.30529)</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Nicolas Casajus, Matthias Grénié, Kévin Cazelles.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


