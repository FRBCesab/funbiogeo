<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Extract site x locations information from long format data — fb_format_site_locations • funbiogeo</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Extract site x locations information from long format data — fb_format_site_locations"><meta property="og:description" content="Convert a flat data.frame with site coordinates into a proper sf object
that can then be used by other functions. This function assumes that
the coordinates are given in WGS84 (longitude vs. latitude). The function
automatically removes repeated coordinates from the input dataset."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">funbiogeo</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/funbiogeo.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/diagnostic-plots.html">Diagnostic Plots in funbiogeo</a>
    </li>
    <li>
      <a href="../articles/long-format.html">Formatting your data</a>
    </li>
    <li>
      <a href="../articles/upscaling.html">Upscaling Your Data with funbiogeo</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/frbcesab/funbiogeo/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extract site x locations information from long format data</h1>
    <small class="dont-index">Source: <a href="https://github.com/frbcesab/funbiogeo/blob/HEAD/R/fb_format_site_locations.R" class="external-link"><code>R/fb_format_site_locations.R</code></a></small>
    <div class="hidden name"><code>fb_format_site_locations.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Convert a flat <code>data.frame</code> with site coordinates into a proper <code>sf</code> object
that can then be used by other functions. This function assumes that
the coordinates are given in WGS84 (longitude vs. latitude). The function
automatically removes repeated coordinates from the input dataset.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fb_format_site_locations</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">site</span>,</span>
<span>  <span class="va">longitude</span>,</span>
<span>  <span class="va">latitude</span>,</span>
<span>  crs <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html" class="external-link">st_crs</a></span><span class="op">(</span><span class="fl">4326</span><span class="op">)</span>,</span>
<span>  na_rm <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data</dt>
<dd><p>a <code>data.frame</code> in a long format (see example).</p></dd>


<dt>site</dt>
<dd><p>a <code>character</code> of length 1. Name of the column with site labels.</p></dd>


<dt>longitude</dt>
<dd><p>a <code>character</code> of length 1. Name of the column with
longitude. The function assumes coordinates are WGS84 (EPSG:4326).</p></dd>


<dt>latitude</dt>
<dd><p>a <code>character</code> of length 1. Name of the column with latitude.
The function assumes coordinates are WGS84 (EPSG:4326).</p></dd>


<dt>crs</dt>
<dd><p>a <code>character</code> of length 1 or an object of class <code>crs</code>.
Coordinate Reference System (CRS) of the specified coordinates.
The CRS should be a <a href="https://geocompr.robinlovelace.net/spatial-class.html?q=CRS#crs-in-r" class="external-link">valid CRS in R</a>.
It can either be a character like <code>"+proj=longlat +datum=WGS84 +no_defs"</code>
or as specified using <code><a href="https://r-spatial.github.io/sf/reference/st_crs.html" class="external-link">sf::st_crs()</a></code> like <code>sf::st_crs(4326)</code>
the default value.</p></dd>


<dt>na_rm</dt>
<dd><p>a logical value. If <code>TRUE</code> remove sites with incomplete
coordinates. Default is <code>FALSE</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>An <code>sf</code> object with a <code>site</code> column specifying site coordinates.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/frbcesab/funbiogeo" class="external-link">"funbiogeo"</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">filename</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"raw_mammals_data.csv"</span>, </span></span>
<span class="r-in"><span>                        package <span class="op">=</span> <span class="st">"funbiogeo"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">all_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="va">filename</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">all_data</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      site longitude latitude species count adult_body_mass gestation_length</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  fb_100  5.771821 59.09736  sp_006     1           21.90            23.68</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  fb_100  5.771821 59.09736  sp_033     1          777.95            36.98</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  fb_100  5.771821 59.09736  sp_078     1           19.30            19.60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 fb_1000 20.271821 52.59736  sp_001     1       461900.76           235.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 fb_1000 20.271821 52.59736  sp_002     1           21.11            19.89</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 fb_1000 20.271821 52.59736  sp_005     1           31.60            24.50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   litter_size max_longevity sexual_maturity_age diet_breadth</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1        5.16          52.8               57.93            4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2        4.64         168.0              265.80            8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        5.54          72.0               64.71            1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4        1.25         324.0              668.20            1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5        5.64          48.0               76.04           NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6        4.94          48.0               43.27           NA</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">site_locations</span> <span class="op">&lt;-</span> <span class="fu">fb_format_site_locations</span><span class="op">(</span><span class="va">all_data</span>, <span class="st">"site"</span>, <span class="st">"longitude"</span>, </span></span>
<span class="r-in"><span>                                           <span class="st">"latitude"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">site_locations</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simple feature collection with 6 features and 1 field</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geometry type: POINT</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dimension:     XY</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bounding box:  xmin: 52.09736 ymin: -9.728179 xmax: 59.09736 ymax: 21.27182</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geodetic CRS:  WGS 84</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        site                   geometry</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    fb_100  POINT (59.09736 5.771821)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   fb_1000  POINT (52.59736 20.27182)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 54  fb_1001  POINT (52.59736 20.77182)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 103 fb_1002  POINT (52.59736 21.27182)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 152 fb_1007 POINT (52.09736 -9.728179)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 174 fb_1008 POINT (52.09736 -9.228179)</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Nicolas Casajus, Matthias Grenie.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.5.</p>
</div>

      </footer></div>

  


  

  </body></html>

