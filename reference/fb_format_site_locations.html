<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Convert a flat data.frame with site coordinates into a proper sf object
that can then be used by other functions. This function assumes that
the coordinates are given in WGS84 (longitude vs. latitude). The function
automatically removes repeated coordinates from the input dataset."><title>Extract site x locations information from long format data — fb_format_site_locations • funbiogeo</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Extract site x locations information from long format data — fb_format_site_locations"><meta property="og:description" content="Convert a flat data.frame with site coordinates into a proper sf object
that can then be used by other functions. This function assumes that
the coordinates are given in WGS84 (longitude vs. latitude). The function
automatically removes repeated coordinates from the input dataset."><meta property="og:image" content="https://frbcesab.github.io/funbiogeo/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">funbiogeo</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/funbiogeo.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/diagnostic-plots.html">Diagnostic Plots in funbiogeo</a>
    <a class="dropdown-item" href="../articles/long-format.html">Formatting your data</a>
    <a class="dropdown-item" href="../articles/upscaling.html">Upscaling your data</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/frbcesab/funbiogeo/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Extract site x locations information from long format data</h1>
      <small class="dont-index">Source: <a href="https://github.com/frbcesab/funbiogeo/blob/HEAD/R/fb_format_site_locations.R" class="external-link"><code>R/fb_format_site_locations.R</code></a></small>
      <div class="d-none name"><code>fb_format_site_locations.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Convert a flat <code>data.frame</code> with site coordinates into a proper <code>sf</code> object
that can then be used by other functions. This function assumes that
the coordinates are given in WGS84 (longitude vs. latitude). The function
automatically removes repeated coordinates from the input dataset.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fb_format_site_locations</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">site</span>,</span>
<span>  <span class="va">longitude</span>,</span>
<span>  <span class="va">latitude</span>,</span>
<span>  crs <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html" class="external-link">st_crs</a></span><span class="op">(</span><span class="fl">4326</span><span class="op">)</span>,</span>
<span>  na_rm <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data</dt>
<dd><p>a <code>data.frame</code> in a long format (see example).</p></dd>


<dt>site</dt>
<dd><p>a <code>character</code> of length 1. Name of the column with site labels.</p></dd>


<dt>longitude</dt>
<dd><p>a <code>character</code> of length 1. Name of the column with
longitude. The function assumes coordinates are WGS84 (EPSG:4326).</p></dd>


<dt>latitude</dt>
<dd><p>a <code>character</code> of length 1. Name of the column with latitude.
The function assumes coordinates are WGS84 (EPSG:4326).</p></dd>


<dt>crs</dt>
<dd><p>a <code>character</code> of length 1 or an object of class <code>crs</code>.
Coordinate Reference System (CRS) of the specified coordinates.
The CRS should be a <a href="https://geocompr.robinlovelace.net/spatial-class.html?q=CRS#crs-in-r" class="external-link">valid CRS in R</a>.
It can either be a character like <code>"+proj=longlat +datum=WGS84 +no_defs"</code>
or as specified using <code><a href="https://r-spatial.github.io/sf/reference/st_crs.html" class="external-link">sf::st_crs()</a></code> like <code>sf::st_crs(4326)</code>
the default value.</p></dd>


<dt>na_rm</dt>
<dd><p>a logical value. If <code>TRUE</code> remove sites with incomplete
coordinates. Default is <code>FALSE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An <code>sf</code> object with a <code>site</code> column specifying site coordinates.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/frbcesab/funbiogeo" class="external-link">"funbiogeo"</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">filename</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"raw_mammals_data.csv"</span>, </span></span>
<span class="r-in"><span>                        package <span class="op">=</span> <span class="st">"funbiogeo"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">all_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="va">filename</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">all_data</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   species           order    site longitude latitude count adult_body_mass</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  sp_001 Cetartiodactyla  fb_103  7.271821 59.09736     1        461900.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  sp_001 Cetartiodactyla fb_1001 20.771821 52.59736     1        461900.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  sp_001 Cetartiodactyla  fb_102  6.771821 59.09736     1        461900.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  sp_001 Cetartiodactyla  fb_104  7.771821 59.09736     1        461900.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  sp_001 Cetartiodactyla  fb_101  6.271821 59.09736     1        461900.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  sp_001 Cetartiodactyla fb_1000 20.271821 52.59736     1        461900.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   gestation_length litter_size max_longevity sexual_maturity_age diet_breadth</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1              235        1.25           324               668.2            1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2              235        1.25           324               668.2            1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3              235        1.25           324               668.2            1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4              235        1.25           324               668.2            1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5              235        1.25           324               668.2            1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6              235        1.25           324               668.2            1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">site_locations</span> <span class="op">&lt;-</span> <span class="fu">fb_format_site_locations</span><span class="op">(</span><span class="va">all_data</span>, <span class="st">"site"</span>, <span class="st">"longitude"</span>, </span></span>
<span class="r-in"><span>                                           <span class="st">"latitude"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">site_locations</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simple feature collection with 6 features and 1 field</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geometry type: POINT</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dimension:     XY</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bounding box:  xmin: 52.59736 ymin: 6.271821 xmax: 59.09736 ymax: 20.77182</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geodetic CRS:  WGS 84</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      site                  geometry</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  fb_103 POINT (59.09736 7.271821)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 fb_1001 POINT (52.59736 20.77182)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  fb_102 POINT (59.09736 6.771821)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  fb_104 POINT (59.09736 7.771821)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  fb_101 POINT (59.09736 6.271821)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 fb_1000 POINT (52.59736 20.27182)</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Nicolas Casajus, Matthias Grenié.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

